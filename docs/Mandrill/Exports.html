<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Crystal Docs 0.26.1">


<link href="../css/style.css" rel="stylesheet" type="text/css">

<script type="text/javascript" src="../js/doc.js"></script>
<script type="text/javascript">
  CrystalDoc.base_path = "../";
</script>

  <meta id="repository-name" content="github.com/Xosmond/mandrill.cr">
  <title>Mandrill::Exports - github.com/Xosmond/mandrill.cr</title>
</head>
<body>

<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="repository-links">
      <a href="../index.html">README</a>
    </div>
  </div>

  <div class="search-results" class="hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class="parent open current" data-id="github.com/Xosmond/mandrill.cr/Mandrill" data-name="mandrill">
      <a href="../Mandrill.html">Mandrill</a>
      
        <ul>
  
  <li class=" " data-id="github.com/Xosmond/mandrill.cr/Mandrill/API" data-name="mandrill::api">
      <a href="../Mandrill/API.html">API</a>
      
    </li>
  
  <li class=" current" data-id="github.com/Xosmond/mandrill.cr/Mandrill/Exports" data-name="mandrill::exports">
      <a href="../Mandrill/Exports.html">Exports</a>
      
    </li>
  
  <li class=" " data-id="github.com/Xosmond/mandrill.cr/Mandrill/Inbound" data-name="mandrill::inbound">
      <a href="../Mandrill/Inbound.html">Inbound</a>
      
    </li>
  
  <li class=" " data-id="github.com/Xosmond/mandrill.cr/Mandrill/Internal" data-name="mandrill::internal">
      <a href="../Mandrill/Internal.html">Internal</a>
      
    </li>
  
  <li class=" " data-id="github.com/Xosmond/mandrill.cr/Mandrill/Ips" data-name="mandrill::ips">
      <a href="../Mandrill/Ips.html">Ips</a>
      
    </li>
  
  <li class=" " data-id="github.com/Xosmond/mandrill.cr/Mandrill/Messages" data-name="mandrill::messages">
      <a href="../Mandrill/Messages.html">Messages</a>
      
    </li>
  
  <li class=" " data-id="github.com/Xosmond/mandrill.cr/Mandrill/Metadata" data-name="mandrill::metadata">
      <a href="../Mandrill/Metadata.html">Metadata</a>
      
    </li>
  
  <li class=" " data-id="github.com/Xosmond/mandrill.cr/Mandrill/Rejects" data-name="mandrill::rejects">
      <a href="../Mandrill/Rejects.html">Rejects</a>
      
    </li>
  
  <li class=" " data-id="github.com/Xosmond/mandrill.cr/Mandrill/Senders" data-name="mandrill::senders">
      <a href="../Mandrill/Senders.html">Senders</a>
      
    </li>
  
  <li class=" " data-id="github.com/Xosmond/mandrill.cr/Mandrill/Subaccounts" data-name="mandrill::subaccounts">
      <a href="../Mandrill/Subaccounts.html">Subaccounts</a>
      
    </li>
  
  <li class=" " data-id="github.com/Xosmond/mandrill.cr/Mandrill/Tags" data-name="mandrill::tags">
      <a href="../Mandrill/Tags.html">Tags</a>
      
    </li>
  
  <li class=" " data-id="github.com/Xosmond/mandrill.cr/Mandrill/Templates" data-name="mandrill::templates">
      <a href="../Mandrill/Templates.html">Templates</a>
      
    </li>
  
  <li class=" " data-id="github.com/Xosmond/mandrill.cr/Mandrill/Urls" data-name="mandrill::urls">
      <a href="../Mandrill/Urls.html">Urls</a>
      
    </li>
  
  <li class=" " data-id="github.com/Xosmond/mandrill.cr/Mandrill/Users" data-name="mandrill::users">
      <a href="../Mandrill/Users.html">Users</a>
      
    </li>
  
  <li class=" " data-id="github.com/Xosmond/mandrill.cr/Mandrill/Webhooks" data-name="mandrill::webhooks">
      <a href="../Mandrill/Webhooks.html">Webhooks</a>
      
    </li>
  
  <li class=" " data-id="github.com/Xosmond/mandrill.cr/Mandrill/Whitelists" data-name="mandrill::whitelists">
      <a href="../Mandrill/Whitelists.html">Whitelists</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<h1 class="type-name">

  <span class="kind">class</span> Mandrill::Exports

</h1>


  <ul class="superclass-hierarchy"><li class="superclass"><a href="../Mandrill/Exports.html">Mandrill::Exports</a></li><li class="superclass">Reference</li><li class="superclass">Object</li></ul>

















  <h2>Defined in:</h2>
  
    
      <a href="https://github.com/Xosmond/mandrill.cr/blob/c884e92f669f75788998e063076a07582f880075/src/mandrill/api.cr#L1463" target="_blank">
        mandrill/api.cr
      </a>
    
    <br/>
  





  <h2>Constructors</h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#new%28master%29-class-method" class="signature"><strong>.new</strong>(master)</a>
        
      </li>
    
  </ul>





  <h2>Instance Method Summary</h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#activity%28notify_email%3Dnil%2Cdate_from%3Dnil%2Cdate_to%3Dnil%2Ctags%3Dnil%2Csenders%3Dnil%2Cstates%3Dnil%2Capi_keys%3Dnil%29-instance-method" class="signature"><strong>#activity</strong>(notify_email = <span class="n">nil</span>, date_from = <span class="n">nil</span>, date_to = <span class="n">nil</span>, tags = <span class="n">nil</span>, senders = <span class="n">nil</span>, states = <span class="n">nil</span>, api_keys = <span class="n">nil</span>)</a>
        
          <div class="summary"><p>Begins an export of your activity history.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#info%28id%29-instance-method" class="signature"><strong>#info</strong>(id)</a>
        
          <div class="summary"><p>Returns information about an export job.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#list-instance-method" class="signature"><strong>#list</strong></a>
        
          <div class="summary"><p>Returns a list of your exports.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#rejects%28notify_email%3Dnil%29-instance-method" class="signature"><strong>#rejects</strong>(notify_email = <span class="n">nil</span>)</a>
        
          <div class="summary"><p>Begins an export of your rejection blacklist.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#whitelist%28notify_email%3Dnil%29-instance-method" class="signature"><strong>#whitelist</strong>(notify_email = <span class="n">nil</span>)</a>
        
          <div class="summary"><p>Begins an export of your rejection whitelist.</p></div>
        
      </li>
    
  </ul>





<div class="methods-inherited">
  
    


    


    


  
    


    


    


  
</div>


  <h2>Constructor Detail</h2>
  
    <div class="entry-detail" id="new(master)-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(master)

        <a class="method-permalink" href="#new%28master%29-class-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Xosmond/mandrill.cr/blob/c884e92f669f75788998e063076a07582f880075/src/mandrill/api.cr#L1466" target="_blank">View source</a>]
        
      </div>
    </div>
  





  <h2>Instance Method Detail</h2>
  
    <div class="entry-detail" id="activity(notify_email=nil,date_from=nil,date_to=nil,tags=nil,senders=nil,states=nil,api_keys=nil)-instance-method">
      <div class="signature">
        
        def <strong>activity</strong>(notify_email = <span class="n">nil</span>, date_from = <span class="n">nil</span>, date_to = <span class="n">nil</span>, tags = <span class="n">nil</span>, senders = <span class="n">nil</span>, states = <span class="n">nil</span>, api_keys = <span class="n">nil</span>)

        <a class="method-permalink" href="#activity%28notify_email%3Dnil%2Cdate_from%3Dnil%2Cdate_to%3Dnil%2Ctags%3Dnil%2Csenders%3Dnil%2Cstates%3Dnil%2Capi_keys%3Dnil%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Begins an export of your activity history. The activity will be exported to a zip archive containing a single file named activity.csv in the same format as you would be able to export from your account's activity view. It includes the following fields: Date, Email Address, Sender, Subject, Status, Tags, Opens, Clicks, Bounce Detail. If you have configured any custom metadata fields, they will be included in the exported data.
@param [String] notify_email an optional email address to notify when the export job has finished
@param [String] date_from start date as a UTC string in YYYY-MM-DD HH:MM:SS format
@param [String] date_to end date as a UTC string in YYYY-MM-DD HH:MM:SS format
@param [Array] tags an array of tag names to narrow the export to; will match messages that contain ANY of the tags</p>

<pre><code><span class="o">-</span> [<span class="t">String</span>] tags<span class="o">[]</span> a tag name</code></pre>

<p>@param [Array] senders an array of senders to narrow the export to</p>

<pre><code><span class="o">-</span> [<span class="t">String</span>] senders<span class="o">[]</span> a sender address</code></pre>

<p>@param [Array] states an array of states to narrow the export to; messages with ANY of the states will be included</p>

<pre><code><span class="o">-</span> [<span class="t">String</span>] states<span class="o">[]</span> a message state</code></pre>

<p>@param [Array] api_keys an array of api keys to narrow the export to; messsagse sent with ANY of the keys will be included</p>

<pre><code><span class="o">-</span> [<span class="t">String</span>] api_keys<span class="o">[]</span> an <span class="t">API</span> key associated <span class="k">with</span> your account</code></pre>

<p>@return [Hash] information about the activity export job that was started</p>

<pre><code><span class="o">-</span> [<span class="t">String</span>] id the unique identifier <span class="k">for</span> this <span class="t">Export</span>. <span class="t">Use</span> this identifier <span class="k">when</span> checking the export job</code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Xosmond/mandrill.cr/blob/c884e92f669f75788998e063076a07582f880075/src/mandrill/api.cr#L1545" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="info(id)-instance-method">
      <div class="signature">
        
        def <strong>info</strong>(id)

        <a class="method-permalink" href="#info%28id%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Returns information about an export job. If the export job's state is 'complete', the returned data will include a URL you can use to fetch the results. Every export job produces a zip archive, but the format of the archive is distinct for each job type. The api calls that initiate exports include more details about the output format for that job type.
@param [String] id an export job identifier
@return [Hash] the information about the export</p>

<pre><code><span class="o">-</span> [<span class="t">String</span>] id the unique identifier <span class="k">for</span> this <span class="t">Export</span>. <span class="t">Use</span> this identifier <span class="k">when</span> checking the export job</code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Xosmond/mandrill.cr/blob/c884e92f669f75788998e063076a07582f880075/src/mandrill/api.cr#L1479" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="list-instance-method">
      <div class="signature">
        
        def <strong>list</strong>

        <a class="method-permalink" href="#list-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Returns a list of your exports.
@return [Array] the account's exports</p>

<pre><code><span class="o">-</span> [<span class="t">Hash</span>] <span class="k">return</span><span class="o">[]</span> the individual export info
    <span class="o">-</span> [<span class="t">String</span>] id the unique identifier <span class="k">for</span> this <span class="t">Export</span>. <span class="t">Use</span> this identifier <span class="k">when</span> checking the export job</code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Xosmond/mandrill.cr/blob/c884e92f669f75788998e063076a07582f880075/src/mandrill/api.cr#L1493" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="rejects(notify_email=nil)-instance-method">
      <div class="signature">
        
        def <strong>rejects</strong>(notify_email = <span class="n">nil</span>)

        <a class="method-permalink" href="#rejects%28notify_email%3Dnil%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Begins an export of your rejection blacklist. The blacklist will be exported to a zip archive containing a single file named rejects.csv that includes the following fields: email, reason, detail, created_at, expires_at, last_event_at, expires_at.
@param [String] notify_email an optional email address to notify when the export job has finished.
@return [Hash] information about the rejects export job that was started</p>

<pre><code><span class="o">-</span> [<span class="t">String</span>] id the unique identifier <span class="k">for</span> this <span class="t">Export</span>. <span class="t">Use</span> this identifier <span class="k">when</span> checking the export job</code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Xosmond/mandrill.cr/blob/c884e92f669f75788998e063076a07582f880075/src/mandrill/api.cr#L1507" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="whitelist(notify_email=nil)-instance-method">
      <div class="signature">
        
        def <strong>whitelist</strong>(notify_email = <span class="n">nil</span>)

        <a class="method-permalink" href="#whitelist%28notify_email%3Dnil%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Begins an export of your rejection whitelist. The whitelist will be exported to a zip archive containing a single file named whitelist.csv that includes the following fields: email, detail, created_at.
@param [String] notify_email an optional email address to notify when the export job has finished.
@return [Hash] information about the whitelist export job that was started</p>

<pre><code><span class="o">-</span> [<span class="t">String</span>] id the unique identifier <span class="k">for</span> this <span class="t">Export</span>. <span class="t">Use</span> this identifier <span class="k">when</span> checking the export job</code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Xosmond/mandrill.cr/blob/c884e92f669f75788998e063076a07582f880075/src/mandrill/api.cr#L1521" target="_blank">View source</a>]
        
      </div>
    </div>
  




</div>

</body>
</html>
